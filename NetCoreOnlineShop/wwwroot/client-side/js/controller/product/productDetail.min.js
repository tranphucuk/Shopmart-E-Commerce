var detail={init:function(){this.loadData();this.registerEvents()},registerEvents:function(){$("#btn-add-to-cart").on("click",function(n){var t=$(this).attr("data-id");n.preventDefault();$.ajax({type:"POST",url:"/Cart/AddToCart",data:{productId:t,quantity:$("#txt-quantity").val(),colorId:detail.colorId,sizeId:detail.sizeId},success:function(n){$("#frm-popup-basket").modal("show");$(".basket-header-detail").html(n.Quantity+" item added to basket");var t='<img src="'+n.Product.Image+'" alt="'+n.Product.Name+'">';$(".basket-img").html(t);$(".basket-product-name").html(n.Product.Name);$(".basket-product-color").html("Exact Colour: "+n.Color.Name);$(".basket-product-size").html("Exact Size: "+n.Size.Name);n.Product.PromotionPrice!=null?$(".basket-product-price").html("$"+n.Product.PromotionPrice+' <span class="bask-price-style">($'+n.Product.Price+")<\/span>"):$(".basket-product-price").html("$"+n.Product.Price)}})});$('ul.button-colors input[type="button"]').on("click",function(){$(this).css({width:"29px",height:"27px"});detail.colorId=$(this).attr("data-id");detail.clearCssColorButton($(this).attr("data-id"))});$('ul.button-size input[type="button"]').on("click",function(){$(this).css({"background-color":"lightgray"});detail.sizeId=$(this).attr("data-id");detail.clearCssSizeButton($(this).attr("data-id"))});$("#btn-go-cart").on("click",function(){window.location.href="/my-cart.html"});$("#btn-checkout").on("click",function(){window.location.href="/checkout.html"});$("#frm-popup-basket").on("hidden.bs.modal",function(){$("#header-info").load("/ReloadHeader/HeaderDetail")});$("#btn-add-wishlist").on("click",function(n){n.preventDefault();var t=$(this).data("id"),i=$(this).data("url");$.ajax({type:"POST",url:"/Product/AddToWishlist",data:{productId:t,returnUrl:i},success:function(n){n==!0?location.reload():window.location.href="/login.html"}})})},colorId:[],sizeId:[],loadData:function(){detail.colorId=$('ul.button-colors input[type="button"]').first().data("id");$('ul.button-colors input[type="button"]').first().css({width:"29px",height:"27px"});detail.sizeId=$('ul.button-size input[type="button"]').first().data("id");$('ul.button-size input[type="button"]').first().css({"background-color":"lightgray"})},clearCssColorButton:function(n){$.each($('ul.button-colors input[type="button"]'),function(t,i){$(i).attr("data-id")!=n&&$(i).css({width:"22px",height:"22px"})})},clearCssSizeButton:function(n){$.each($('ul.button-size input[type="button"]'),function(t,i){$(i).attr("data-id")!=n&&$(i).css({"background-color":"white"})})}};detail.init();