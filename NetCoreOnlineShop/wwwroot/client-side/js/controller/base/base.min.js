var base={init:function(){this.registerEvents()},registerEvents:function(){$(".quick-view-product").on("click",function(){var n=$(this).attr("data-id");base.displayProductInfo(n)});$("body").on("click","li.sub-item-quick-view",function(){var n=$(this).attr("data-id");$(this).css({"border-bottom":"3px solid orange"});base.clearCssClick(n);base.changeProduct(n)});$(".see-product-details").on("click",function(){window.open("/product-"+base.seoAlias+"-"+base.productId+".html")})},seoAlias:[],productId:[],clearCssClick:function(n){$.each($("ul li.sub-item-quick-view"),function(t,i){$(i).attr("data-id")!=n&&$(i).css({"border-bottom":"0px"})})},displayProductInfo:function(n){$.ajax({type:"GET",url:"/Product/QuickView",data:{productId:n},success:function(n){var i="",u=$("#sub-items-template").html(),t=n.ProductViewModel,f=n.RelatedProducts,r;base.productId=t.Id;base.seoAlias=t.SeoAlias;$(".quick-view-name").text(t.Name);r='<img src="'+t.Image+'" alt="'+t.Name+'">';$(".quick-view-img").html(r);t.PromotionPrice!=null?($("#sale-price").html("$"+t.PromotionPrice),$("#price-before").html("$"+t.Price),$("#regular-price").html("")):($("#sale-price").html(""),$("#price-before").html(""),$("#regular-price").html("$"+t.Price));$(".quick-view-description").html(t.Description.substring(1,200));$.each(f,function(n,t){var r={};r.Id=t.Id;r.Path=t.Image;r.Name=t.Name;i+=Mustache.render(u,r)});$("#sub-item-content").html(i);$("#quick-view-modal").modal("show")}})},changeProduct:function(n){$.ajax({type:"GET",url:"/Product/ChangeProduct",data:{productId:n},success:function(n){base.productId=n.Id;base.seoAlias=n.SeoAlias;$(".quick-view-name").text(n.Name);var t='<img src="'+n.Image+'" alt="'+n.Name+'">';$(".quick-view-img").html(t);n.PromotionPrice!=null?($("#sale-price").html("$"+n.PromotionPrice),$("#price-before").html("$"+n.Price),$("#regular-price").html("")):($("#sale-price").html(""),$("#price-before").html(""),$("#regular-price").html("$"+n.Price));$(".quick-view-description").html(n.Description.substring(1,200))}})}};base.init();